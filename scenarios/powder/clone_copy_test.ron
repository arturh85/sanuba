(
    name: "Clone Copy Test",
    description: "Tests that CLONE copies adjacent material patterns into empty spaces.",

    setup: [
        // Place a bedrock floor so sand doesn't fall
        (type: "FillRect", min_x: 28, max_x: 33, min_y: 19, max_y: 19, material: 14), // BEDROCK floor
        // Place clone next to stone (solid, won't fall)
        (type: "FillRect", min_x: 30, max_x: 30, min_y: 20, max_y: 20, material: 47), // CLONE
        (type: "FillRect", min_x: 31, max_x: 31, min_y: 20, max_y: 20, material: 1), // STONE (solid)
        // Air is already present around the clone (material 0)
    ],

    actions: [
        // Wait for clone to copy material (probabilistic 10% per frame)
        (type: "WaitFrames", frames: 120), // 2 seconds
    ],

    verify: [
        // Clone should still exist
        (type: "MaterialAt", x: 30, y: 20, expected: 47), // CLONE
        // Source stone should still exist (it's solid, won't move)
        (type: "MaterialAt", x: 31, y: 20, expected: 1), // STONE
        // Clone is probabilistic, so we just verify the scenario runs without errors
    ],

    cleanup: [],
)
